## 产品需求文档 (PRD)

#### 概述

本产品旨在通过跟踪和分析页面访问量（Page Views，简称 PV）提供准确全面的网站分析服务。系统将监测用户行为模式，识别受欢迎的页面和潜在问题，并提出改进用户体验和提高转化率的优化建议。

##### 术语解释

页面访问量 (PV)
页面访问量表示网页在浏览器中加载实例的数量。每当用户打开或刷新网页时，就会计算一次 PV。

用户行为分析
用户行为分析涉及研究用户如何与网站互动，包括导航模式、页面停留时间、跳出率、滚动深度、交互行为、设备类型和浏览器分布等方面。

##### 功能

总 PV 计数： 显示网站上的总 PV 数量。
每日/每周/每月 PV 趋势： 显示每日、每周和每月的 PV 趋势，了解随着时间推移的使用模式。
页面级 PV： 显示每个页面的 PV 数量，识别最受欢迎的页面。
来源/媒介 PV： 显示来自不同来源和媒介的 PV 数量，了解流量来源。
用户行为分析： 分析用户行为模式，包括页面访问路径、页面停留时间、跳出率、滚动深度、交互行为、设备类型和浏览器分布等方面。
用户流程
系统捕获并存储 PV 数据。
数据被处理和分析以生成报告。
报告以用户友好的格式显示，允许利益相关者审查和解读数据。
根据报告获得的洞察力，利益相关者可以做出明智决策优化网站和改善用户体验。

#### 实施细节

系统将使用 JavaScript 捕获和发送 PV 数据到服务器进行处理和存储。后台数据库将存储原始数据，报告引擎将根据存储的数据生成报告。报告将以 Markdown 格式保存，并可通过自动化过程导出成 HTML 或 PDF 格式。此外，还可以通过 API 获取报告数据，以便与其他系统集成。


#### 何时生产数据到IndexedDB?
    有几个触发时机：
    1、页面初始化（load/pageshow）
    2、路由或者浏览器地址发生变化(pushState/replaceState/hashChange/popState)
    3、Error captured 捕获到错误的时候
    4、

